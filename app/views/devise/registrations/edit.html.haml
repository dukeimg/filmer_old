-title t('users.edit-profile')
=render('layouts/header')
.container-margin.flexbox.flex-center
  %a.btn-back.flexbox.flex-center{:href => _back_url}
    .glyphicon.glyphicon-menu-left
    %div= t('back')
  .container
    .row
      -if devise_mapping.confirmable? && resource.pending_reconfirmation?
        %div Currently waiting confirmation for: #{resource.unconfirmed_email}
      = form_for resource, as: resource_name, url: registration_path(resource_name), :html => {:class => "form-horizontal", method: :put} do |f|
        %h1.underline= t('users.edit-profile')
        .row.text-center.container-margin
          .form-group
            %label.col-xs-6.text-right.control-label{:for => 'name'}= t('users.name')
            .col-xs-5
              = f.text_field :name, :placeholder => t("users.name"), :class => "form-control", autofocus: true
          .form-group
            %label.col-xs-6.text-right.control-label{:for => 'email'}= t('users.email')
            .col-xs-5
              = f.email_field :email, :placeholder => t("users.email"), :class => "form-control", utocomplete: "off"
          .well= t('users.cannot-change-username')
          .form-group
            %label.col-xs-6.text-right.control-label{:for => 'username'}= t('users.username')
            .col-xs-5
              = f.text_field :username, :class => "form-control", :disabled => 1
        %h1.underline= t('users.edit-password')
        .row.text-center.container-margin
          .well= t('users.leave-empty')
          .form-group
            %label.col-xs-6.text-right.control-label{:for => 'password'}= t('users.new-password')
            .col-xs-5
              = f.password_field :password, :placeholder => t("users.password"), :class => "form-control"
          .form-group
            %label.col-xs-6.text-right.control-label{:for => 'password'}= t('users.password-again')
            .col-xs-5
              = f.password_field :password_confirmation, :placeholder => t("users.password"), :class => "form-control"
        %h1.underline= t('save')
        .row.text-center.container-margin
          .well= t('users.we-need-current-password')
          .form-group
            %label.col-xs-6.text-right.control-label{:for => 'password'}= t('users.current-password')
            .col-xs-5
              = f.password_field :current_password, :placeholder => t("users.password"), :class => "form-control"
          .container-margin
          = f.submit t('save'), :class => "btn btn-default"
      %h1.underline= t('users.danger-zone')
      .row.text-center.container-margin
        .panel.panel-danger
          %h2.panel-heading= t('warning')
          .panel-body= t('users.danger-zone-warning')
          =button_to t('users.delete-my-account'), registration_path(resource_name), data: { confirm: "#{t('users.are-you-sure')}" }, method: :delete, :class => 'btn btn-default'
=render('layouts/footer')